# Burp Suite 安全手工测试辅助工具

## 简介

这是一个 Burp Suite 扩展工具，旨在辅助安全测试人员进行手工测试工作。本工具集成了多种常见的安全测试功能，包括未授权访问测试、CSRF 漏洞测试、不安全 HTTP 方法测试以及越权测试等，同时提供了请求捕获、数据导出导入等辅助功能。

## 安装方法

1. 下载发布的 JAR 文件
2. 打开 Burp Suite Professional
3. 转到 `Extender` -> `Extensions` 选项卡
4. 点击 `Add` 按钮
5. 在 `Extension file` 部分选择下载的 JAR 文件
6. 点击 `Next` 完成安装

安装成功后，在 Burp Suite 的标签页中将出现 "安全手工测试辅助工具" 选项卡。

## 功能概述

本工具主要包括以下功能模块：

1. **请求列表** - 捕获和管理 HTTP 请求
2. **未授权测试** - 测试端点的未授权访问漏洞
3. **CSRF 测试** - 测试跨站请求伪造漏洞
4. **不安全请求测试** - 测试不安全的 HTTP 方法
5. **越权测试** - 测试水平和垂直越权漏洞

## 详细使用说明

### 请求列表

请求列表页面用于捕获和管理经过 Burp Suite 代理的 HTTP 请求。

**主要功能**：

- **请求捕获** - 自动捕获经过代理的请求
- **URL 过滤** - 可设置排除特定后缀或关键词的 URL
- **URL 去重** - 可选择是否对 URL 进行去重处理
- **导出数据** - 支持将捕获的请求导出为 CSV 格式
- **导入数据** - 支持从 CSV 文件导入请求数据
- **漏洞测试** - 支持对选定的请求进行各种漏洞测试

**使用步骤**：

1. 确保 Burp Suite 代理已配置并正常工作
2. 浏览目标网站，相关请求将自动捕获并显示在列表中
3. 可通过设置过滤条件来控制捕获的请求类型
4. 选择需要测试的请求，然后点击相应的测试按钮进行漏洞测试

### 未授权测试

未授权测试模块用于检测端点是否存在未经授权的访问漏洞。

**主要功能**：

- **自动测试** - 自动移除请求中的授权信息并发送请求
- **结果分析** - 基于响应状态码、关键词和相似度进行漏洞判断
- **结果确认** - 支持手动确认自动判断的结果
- **批量确认** - 支持批量确认多个测试结果
- **导出结果** - 支持将测试结果导出为 CSV 格式
- **重新测试** - 支持随时重新执行测试

**使用步骤**：

1. 在请求列表中选择需要测试的请求
2. 点击 "未授权测试" 按钮
3. 系统将自动移除授权相关信息并发送请求
4. 查看测试结果，红色表示可能存在漏洞，橙色表示需要人工确认
5. 双击结果行可查看详细的请求和响应信息
6. 可根据需要确认漏洞、批量确认或导出结果
7. 可通过设置安全关键词来优化判断规则
8. 需要重新测试时，点击 "重新测试" 按钮

### CSRF 测试

CSRF 测试模块用于检测接口是否存在跨站请求伪造漏洞。

**主要功能**：

- **自动测试** - 自动修改 Referer 和 Origin 信息并发送请求
- **结果分析** - 基于响应状态码、关键词和相似度进行漏洞判断
- **结果确认** - 支持手动确认自动判断的结果
- **批量确认** - 支持批量确认多个测试结果
- **导出结果** - 支持将测试结果导出为 CSV 格式
- **重新测试** - 支持随时重新执行测试

**使用步骤**：

1. 在请求列表中选择需要测试的请求
2. 点击 "CSRF 测试" 按钮
3. 系统将自动修改 Referer 和 Origin 信息并发送请求
4. 查看测试结果，红色表示可能存在漏洞，橙色表示需要人工确认
5. 双击结果行可查看详细的请求和响应信息
6. 可根据需要确认漏洞、批量确认或导出结果
7. 可通过设置安全关键词来优化判断规则
8. 需要重新测试时，点击 "重新测试" 按钮

### 不安全请求测试

不安全请求测试模块用于检测服务器是否支持不安全的 HTTP 方法。

**主要功能**：

- **自动测试** - 自动使用 OPTIONS、PUT、DELETE 等方法发送请求
- **结果分析** - 基于响应状态码、关键词和相似度进行漏洞判断
- **结果确认** - 支持手动确认自动判断的结果
- **批量确认** - 支持批量确认多个测试结果
- **导出结果** - 支持将测试结果导出为 CSV 格式
- **重新测试** - 支持随时重新执行测试

**使用步骤**：

1. 在请求列表中选择需要测试的请求
2. 点击 "不安全请求测试" 按钮
3. 系统将自动使用不同的 HTTP 方法发送请求
4. 查看测试结果，红色表示可能存在漏洞，橙色表示需要人工确认
5. 双击结果行可查看详细的请求和响应信息
6. 可根据需要确认漏洞、批量确认或导出结果
7. 可通过设置安全关键词来优化判断规则
8. 需要重新测试时，点击 "重新测试" 按钮

### 越权测试

越权测试模块用于检测应用程序是否存在水平或垂直越权漏洞。

**主要功能**：

- **会话管理** - 支持配置多个不同权限的会话
- **参数识别** - 支持自动或手动指定越权测试参数
- **水平越权** - 测试同级用户间的越权访问
- **垂直越权** - 测试不同权限级别间的越权访问
- **结果分析** - 基于响应状态码、关键词和相似度进行漏洞判断
- **结果确认** - 支持手动确认自动判断的结果
- **导出结果** - 支持将测试结果导出为 CSV 格式

**使用步骤**：

1. 在越权测试面板中配置不同权限的会话信息
2. 在请求列表中选择需要测试的请求
3. 点击 "越权测试" 按钮
4. 选择测试类型（水平越权或垂直越权）
5. 指定需要测试的参数或使用自动检测
6. 系统将使用不同会话发送请求并比较响应
7. 查看测试结果，红色表示可能存在漏洞，橙色表示需要人工确认
8. 双击结果行可查看详细的请求和响应信息
9. 可根据需要确认漏洞或导出结果

## 数据导出导入

本工具支持将捕获的请求数据和测试结果导出为 CSV 格式，也支持从 CSV 文件导入请求数据。

**导出功能**：

- 支持导出请求列表中的数据
- 支持导出各类测试结果
- 导出时可选择是否包含请求头、请求体和响应体
- 导出的 CSV 文件使用 UTF-8 编码，可直接在 Excel 中打开

**导入功能**：

- 支持从 CSV 文件导入请求数据
- 导入时可选择是否替换主机名和端口
- 导入时会自动更新 Host 和 Cookie 等请求头信息
- 支持自动检测文件编码，确保中文正常显示

## 漏洞判断逻辑

本工具使用多层次的漏洞判断逻辑，包括：

1. **响应状态码判断** - 基于 HTTP 响应状态码判断是否存在漏洞
2. **关键词检测** - 检测响应内容中是否包含特定关键词
3. **响应相似度比较** - 比较修改前后响应的相似度来判断是否存在漏洞

用户可以通过配置安全关键词来优化判断规则，使其更符合特定应用场景的需求。

## 注意事项

- 本工具仅用于授权的安全测试，请勿用于非法目的
- 某些测试（如不安全 HTTP 方法测试）可能会修改服务器数据，请在测试环境中使用
- 自动判断结果仅供参考，建议人工确认重要的测试结果
- 建议定期导出数据，以防数据丢失
- 本工具不会记录或发送任何数据到外部服务器

## 技术支持

如有问题或建议，请通过以下方式联系我们：

- 提交 GitHub Issue
- 发送邮件至 [support@example.com](mailto:support@example.com)

---

© 2023 安全手工测试辅助工具团队。保留所有权利。 